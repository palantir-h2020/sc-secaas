vnfd:
  product-name: iptnetflow_cnf
  version: "1.0"
  provider: UMU
  description: |
    K8s container deployment of iptables + NetFlow collector ids for PALANTIR 
  id: iptnetflow_cnf
  mgmt-cp: mgmtnet-ext
  ext-cpd:
    - id: mgmtnet-ext
      k8s-cluster-net: mgmtnet
  kdu:
    - name: iptnetflow-kdu
      juju-bundle: bundle.yaml
  k8s-cluster:
    nets:
      - id: mgmtnet
  df:
    - id: default-df
      lcm-operations-configuration:
        operate-vnf-op-config:
          day1-2:
            - id: iptnetflow-kdu
              initial-config-primitive:
                - seq: 0
                  name: start-netflow
                  parameter:
                    - name: application-name
                      data-type: STRING
                      value: iptnetflow
                    - name: ip
                      data-type: STRING
                      value: 10.101.41.19
                    - name: port
                      data-type: INTEGER
                      value: 9999
                - seq: 1
                  name: start-netflow      
                  parameter:
                    - name: application-name
                      data-type: STRING
                      value: iptnetflow
                    - name: ip
                      data-type: STRING
                      value: 10.101.41.193
                    - name: port
                      data-type: INTEGER
                      value: 32001
                - seq: 2
                  name: start-zeek
                  parameter:
                    - name: application-name
                      data-type: STRING
                      value: iptnetflow
              config-primitive:
                - name: start-netflow
                  parameter:
                    - name: application-name
                      data-type: STRING
                      default-value: iptnetflow
                    - name: ip
                      data-type: STRING
                      default-value: ""
                    - name: port
                      data-type: INTEGER
                      default-value: ""
                - name: stop-netflow
                  parameter:
                    - name: application-name
                      data-type: STRING
                      default-value: iptnetflow
                - name: health-check
                  parameter:
                    - name: application-name
                      data-type: STRING
                      default-value: iptnetflow
                - name: start-zeek
                  parameter:
                    - name: application-name
                      data-type: STRING
                      default-value: iptnetflow
                - name: stop-zeek
                  parameter:
                    - name: application-name
                      data-type: STRING
                      default-value: iptnetflow
                - name: start-mirroring
                  parameter:
                    - name: application-name
                      data-type: STRING
                      default-value: iptnetflow
                    - name: ip
                      data-type: STRING
                      default-value: ""
                - name: stop-mirroring
                  parameter:
                    - name: application-name
                      data-type: STRING
                      default-value: iptnetflow
                    - name: ip
                      data-type: STRING
                      default-value: ""
                - name: run
                  parameter:
                    - name: application-name
                      data-type: STRING
                      default-value: iptnetflow
                    - name: cmd
                      data-type: STRING
                      default-value: ""
